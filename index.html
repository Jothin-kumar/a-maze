<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Maze : Create a random maze and play online</title>
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="style/portrait.css">
    <link rel="stylesheet" href="style/onscreen-nav.css">
</head>
<body>
    <div id="loading">
        <h1>Loading...</h1>
        <p id="loading-might-take-a-while">Might take a while to load on some devices. Please wait</p>
    </div>
    <div id="onscreen-nav">
        <div></div><button onclick="window.player.moveUp()">W</button>
        <div></div><button onclick="window.player.moveLeft()">A</button>
        <div></div><button onclick="window.player.moveRight()">D</button>
        <div></div><button onclick="window.player.moveDown()">S</button>
    </div>
    <div id="controls">
        <button onclick="revealAnswer()" id="reveal-answer">Reveal Answer</button>
        <button onclick="window.player.reset()" id="reset-btn">Reset</button>
        <button onclick="showHelp()">Help</button> <!-- TODO -->
        <button onclick="window.location.reload()">New Maze</button>
    </div>
    <div id="main">
        <svg id="maze-grid" height="500" width="500" xmlns="http://www.w3.org/2000/svg">
            <line x1="0" y1="1" x2="495" y2="1" stroke="white" stroke-width="5"/>
            <line x1="0" y1="495" x2="495" y2="495" stroke="white" stroke-width="5"/>
            <line y1="0" x1="1" y2="495" x2="1" stroke="white" stroke-width="5"/>
            <line y1="0" x1="495" y2="495" x2="495" stroke="white" stroke-width="5"/>
        </svg>
    </div>
    <div id="game-over-parent">
        <p id="game-over"></p>
        <div id="game-over-maze-parent"></div>
        <button onclick="window.location.reload()">Play Again</button>
    </div>
    <div id="help-parent">
        <div id="help">
            <button onclick="hideHelp()" id="close-help-btn">Close help</button>
            <h2>How to play?</h2>
            <ul>
                <li>Find the <strong>green dot</strong> in the maze. This will be the <strong>starting position</strong></li>
                <li>Find the <strong>red dot</strong> in the maze. This will be the <strong>final position</strong></li>
                <li>Start navigating to the final position</li>
            </ul>
            <h2>Navigation</h2>
            <ul>
                <li><strong>Devices with physical keyboard: </strong>Use arrow keys or WASD</li>
                <li><strong>Touch screen devices: </strong>Use onscreen navigation buttons (these buttons can be dragged to anywhere in the screen). If the maze is not fully visible, it can be scrolled</li>
            </ul>
            <h2>Common problems & solutions</h2>
            <ul>
                <li><strong>On screen navigation not present: </strong>Not available in landscape mode. Use portrait mode instead</li>
                <li><strong>On screen navigation accidentally dragged out of view: </strong>Press and hold the screen (or any other action which triggers contextmenu). The on screen navigation will return to its initial position</li>
                <li><strong>Visibility issues: </strong>Disable any browser extensions that might interfere with color of the website. (eg: dark reader)</li>
            </ul>
            <br><p>Click here to exit help screen</p>
        </div>
    </div>
    
    <script src="script/helper.js"></script>
    <script src="script/maze-construct.js"></script>
    <script src="script/line.js"></script>
    <script>setTimeout(construct, 100)</script>
    <script src="script/reveal.js"></script>
    <script src="script/game-over.js"></script>
    <script src="script/nav.js"></script>
    <script src="script/on-screen-nav.js"></script>
    <script src="script/focus-start.js"></script>
    <script src="script/help.js"></script>
</body>
</html>